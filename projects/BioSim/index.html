<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BioSim | Neural Evolution Engine</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body>
    <div id="app-root">
        
        <aside class="sidebar left-panel">
            <div class="brand">
                <i class="ri-dna-fill"></i>
                <div class="brand-text">
                    <h1>BioSim</h1>
                    <span class="badge">EVOLUTION v1.0</span>
                </div>
            </div>

            <div class="control-group">
                <div class="group-header">Simulation Parameters</div>
                
                <div class="param-row">
                    <label>Population Size</label>
                    <input type="range" id="param-pop-size" min="20" max="200" value="50">
                    <span class="val" id="val-pop-size">50</span>
                </div>

                <div class="param-row">
                    <label>Mutation Rate</label>
                    <input type="range" id="param-mutation" min="0" max="1" step="0.01" value="0.05">
                    <span class="val" id="val-mutation">5%</span>
                </div>

                <div class="param-row">
                    <label>Food Density</label>
                    <input type="range" id="param-food" min="10" max="200" value="80">
                    <span class="val" id="val-food">80</span>
                </div>

                <div class="param-row">
                    <label>Time Scale</label>
                    <input type="range" id="param-speed" min="1" max="20" value="1">
                    <span class="val" id="val-speed">1x</span>
                </div>
            </div>

            <div class="control-group">
                <div class="group-header">Neural Architecture</div>
                <div class="info-block">
                    <div class="info-row"><span>Inputs:</span> <strong>5</strong></div>
                    <small>Wall Dist, Food Dist, Food Angle, Energy, Bias</small>
                    <div class="info-row"><span>Hidden:</span> <strong>8</strong></div>
                    <div class="info-row"><span>Outputs:</span> <strong>2</strong></div>
                    <small>Thrust, Rotation</small>
                </div>
            </div>

            <div class="control-group">
                <button id="btn-reset" class="btn-danger-outline">
                    <i class="ri-restart-line"></i> Reset World
                </button>
            </div>
        </aside>

        <main class="viewport">
            <header class="world-header">
                <div class="stats-box">
                    <div class="stat-item">
                        <span class="label">GENERATION</span>
                        <span class="value accent" id="stat-gen">1</span>
                    </div>
                    <div class="stat-item">
                        <span class="label">ALIVE</span>
                        <span class="value" id="stat-alive">50</span>
                    </div>
                    <div class="stat-item">
                        <span class="label">BEST FITNESS</span>
                        <span class="value success" id="stat-fitness">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="label">AVG ENERGY</span>
                        <span class="value warning" id="stat-energy">100</span>
                    </div>
                </div>
                <div class="sim-controls">
                    <button class="icon-btn" id="btn-playpause"><i class="ri-pause-fill"></i></button>
                    <button class="icon-btn" id="btn-step"><i class="ri-skip-forward-fill"></i></button>
                </div>
            </header>

            <div class="canvas-wrapper">
                <canvas id="world-canvas"></canvas>
                <div class="overlay-info" id="hover-info" style="display: none;">
                    Creature #<span id="info-id"></span>
                </div>
            </div>
        </main>

        <aside class="sidebar right-panel">
            
            <div class="panel-section">
                <div class="section-title">
                    <i class="ri-brain-line"></i> Neural Scanner
                </div>
                <div class="brain-viz-container">
                    <canvas id="brain-canvas"></canvas>
                    <div class="brain-status" id="brain-status-text">Select a creature</div>
                </div>
                <div class="brain-metrics">
                    <div class="metric">
                        <div class="bar-label">Thrust</div>
                        <div class="bar-track"><div class="bar-fill" id="bar-thrust" style="width: 0%"></div></div>
                    </div>
                    <div class="metric">
                        <div class="bar-label">Turn</div>
                        <div class="bar-track"><div class="bar-fill" id="bar-turn" style="width: 50%"></div></div>
                    </div>
                </div>
            </div>

            <div class="panel-section flex-grow">
                <div class="section-title">
                    <i class="ri-line-chart-line"></i> Evolution Metrics
                </div>
                <div class="graph-container">
                    <canvas id="graph-canvas"></canvas>
                </div>
                <div class="legend">
                    <span class="dot fit"></span> Max Fitness
                    <span class="dot avg"></span> Avg Fitness
                </div>
            </div>

            <div class="panel-section console-section">
                <div class="console-output" id="sim-logs">
                    <div class="log system">BioSim Environment Initialized.</div>
                    <div class="log system">Genetic Engine Ready.</div>
                </div>
            </div>

        </aside>

    </div>

    <script src="math.js"></script>      <script src="physics.js"></script>   <script src="neural.js"></script>    <script src="genetics.js"></script>  <script src="entities.js"></script>  <script src="simulation.js"></script><script src="ui.js"></script>        </body>
</html>