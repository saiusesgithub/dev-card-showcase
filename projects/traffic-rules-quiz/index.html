<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Traffic Rules Quiz - Test Your Knowledge</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f5ff;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            background-image: linear-gradient(to bottom right, #e6f2ff, #f0f8ff);
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #2c5aa0 0%, #4a7ec7 100%);
            color: white;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(44, 90, 160, 0.2);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .quiz-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eaeaea;
        }
        
        .progress-container {
            width: 100%;
            background-color: #eaeaea;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            height: 12px;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .question-counter {
            font-weight: 600;
            color: #2c5aa0;
            font-size: 1.1rem;
        }
        
        .question-container {
            margin-bottom: 30px;
        }
        
        .question-text {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.5;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .option {
            padding: 18px 20px;
            background-color: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.05rem;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #edf2f7;
            transform: translateY(-2px);
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: #2196F3;
            color: #1565c0;
        }
        
        .option.correct {
            background-color: #e8f5e9;
            border-color: #4CAF50;
            color: #2e7d32;
        }
        
        .option.incorrect {
            background-color: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }
        
        .option-label {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background-color: #e2e8f0;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: #4a5568;
            flex-shrink: 0;
        }
        
        .selected .option-label {
            background-color: #2196F3;
            color: white;
        }
        
        .correct .option-label {
            background-color: #4CAF50;
            color: white;
        }
        
        .incorrect .option-label {
            background-color: #f44336;
            color: white;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background-color: #2196F3;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #0b7dda;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(33, 150, 243, 0.3);
        }
        
        .btn-secondary {
            background-color: #607d8b;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #455a64;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(96, 125, 139, 0.3);
        }
        
        .btn-success {
            background-color: #4CAF50;
            color: white;
        }
        
        .btn-success:hover {
            background-color: #388e3c;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }
        
        .btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-container {
            display: none;
            text-align: center;
            padding: 40px 30px;
            background-color: #f8fafc;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
            margin-top: 30px;
        }
        
        .result-header {
            margin-bottom: 30px;
        }
        
        .result-title {
            font-size: 2.2rem;
            color: #2c5aa0;
            margin-bottom: 15px;
        }
        
        .score-display {
            font-size: 3.5rem;
            font-weight: 700;
            color: #4CAF50;
            margin: 20px 0;
        }
        
        .score-text {
            font-size: 1.3rem;
            color: #4a5568;
            margin-bottom: 30px;
        }
        
        .feedback-message {
            font-size: 1.5rem;
            font-weight: 600;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }
        
        .excellent {
            background-color: #e8f5e9;
            color: #2e7d32;
            border-left: 6px solid #4CAF50;
        }
        
        .good {
            background-color: #fff3e0;
            color: #ef6c00;
            border-left: 6px solid #ff9800;
        }
        
        .needs-improvement {
            background-color: #ffebee;
            color: #c62828;
            border-left: 6px solid #f44336;
        }
        
        .review-container {
            text-align: left;
            margin-top: 30px;
            padding-top: 25px;
            border-top: 2px solid #eaeaea;
        }
        
        .review-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        
        .review-item {
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.05);
        }
        
        .review-question {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .review-answer {
            padding: 8px 12px;
            border-radius: 6px;
            display: inline-block;
            margin-top: 5px;
            font-weight: 500;
        }
        
        .correct-answer {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .user-correct {
            background-color: #e8f5e9;
            color: #2e7d32;
            border-left: 4px solid #4CAF50;
        }
        
        .user-incorrect {
            background-color: #ffebee;
            color: #c62828;
            border-left: 4px solid #f44336;
        }
        
        .explanation {
            margin-top: 10px;
            font-style: italic;
            color: #5a6268;
        }
        
        .icon {
            font-size: 1.2rem;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .quiz-container {
                padding: 20px;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 0.95rem;
            }
            
            .options-container {
                gap: 10px;
            }
            
            .option {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .navigation-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .score-display {
                font-size: 2.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-traffic-light"></i> Traffic Rules Quiz</h1>
            <p class="tagline">Test your knowledge of traffic rules and road safety</p>
        </header>
        
        <main class="quiz-container">
            <div class="quiz-header">
                <div class="question-counter">Question <span id="current-question">1</span> of <span id="total-questions">10</span></div>
                <div class="score-display-small">Score: <span id="current-score">0</span></div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div id="question-section">
                <div class="question-container">
                    <h2 class="question-text" id="question-text"></h2>
                    <div class="options-container" id="options-container"></div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secondary" id="prev-btn" disabled>
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" id="next-btn">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <div class="result-container" id="result-section">
                <div class="result-header">
                    <h2 class="result-title">Quiz Completed!</h2>
                    <div class="score-display" id="final-score">0/10</div>
                    <p class="score-text" id="score-text">You answered 0 out of 10 questions correctly</p>
                    <div class="feedback-message" id="feedback-message"></div>
                </div>
                
                <button class="btn btn-success" id="restart-btn">
                    <i class="fas fa-redo"></i> Restart Quiz
                </button>
                
                <div class="review-container">
                    <h3 class="review-title">Review Your Answers</h3>
                    <div id="answers-review"></div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>Traffic Awareness Mini Website | Interactive Quiz | &copy; 2023</p>
            <p>Remember: Following traffic rules saves lives!</p>
        </footer>
    </div>

    <script>
        // Quiz questions data
        const quizQuestions = [
            {
                question: "What does a solid yellow line on the road indicate?",
                options: [
                    "You may overtake if it's safe to do so",
                    "No overtaking allowed",
                    "Parking is permitted",
                    "Pedestrian crossing ahead"
                ],
                correctAnswer: 1,
                explanation: "A solid yellow line indicates no overtaking. Drivers are not allowed to cross this line to pass other vehicles."
            },
            {
                question: "When approaching a roundabout, who has the right of way?",
                options: [
                    "Vehicles entering the roundabout",
                    "Vehicles already in the roundabout",
                    "The larger vehicle",
                    "The vehicle on the right"
                ],
                correctAnswer: 1,
                explanation: "Vehicles already in the roundabout have the right of way. You must yield to traffic already circulating."
            },
            {
                question: "What should you do when you see a flashing red traffic light?",
                options: [
                    "Slow down and proceed with caution",
                    "Treat it as a stop sign",
                    "Speed up to clear the intersection",
                    "Ignore it if no other vehicles are present"
                ],
                correctAnswer: 1,
                explanation: "A flashing red light should be treated as a stop sign. Come to a complete stop, then proceed when safe."
            },
            {
                question: "What is the minimum safe following distance in good weather conditions?",
                options: [
                    "1 second",
                    "2 seconds",
                    "3 seconds",
                    "4 seconds"
                ],
                correctAnswer: 2,
                explanation: "The 3-second rule is recommended for maintaining a safe following distance in good conditions."
            },
            {
                question: "When are you allowed to use your horn?",
                options: [
                    "To greet friends",
                    "To alert other drivers of danger",
                    "To express frustration in traffic",
                    "To get through traffic faster"
                ],
                correctAnswer: 1,
                explanation: "Horns should only be used to alert other drivers of potential danger, not for expressing frustration."
            },
            {
                question: "What does a green arrow signal mean?",
                options: [
                    "Prepare to stop",
                    "Proceed in the direction of the arrow with caution",
                    "Proceed in the direction of the arrow, you have the right of way",
                    "Speed up to make the turn"
                ],
                correctAnswer: 2,
                explanation: "A green arrow means you have a protected turn in the direction of the arrow. You may proceed with caution."
            },
            {
                question: "When driving in fog, which lights should you use?",
                options: [
                    "High beam headlights",
                    "Parking lights only",
                    "Low beam headlights or fog lights",
                    "No lights needed during daytime"
                ],
                correctAnswer: 2,
                explanation: "Use low beam headlights or fog lights in fog. High beams reflect off the fog and reduce visibility."
            },
            {
                question: "What should you do when an emergency vehicle with sirens on is approaching from behind?",
                options: [
                    "Speed up to get out of the way",
                    "Pull over to the right and stop",
                    "Continue driving at the same speed",
                    "Switch lanes to the left"
                ],
                correctAnswer: 1,
                explanation: "Pull over to the right side of the road and stop to allow emergency vehicles to pass safely."
            },
            {
                question: "What does a broken white line on the road indicate?",
                options: [
                    "No lane changing allowed",
                    "Lane changing is permitted if safe",
                    "Edge of the roadway",
                    "Pedestrian crossing ahead"
                ],
                correctAnswer: 1,
                explanation: "Broken white lines separate lanes of traffic going in the same direction. Lane changes are permitted when safe."
            },
            {
                question: "When parking downhill with a curb, which way should you turn your wheels?",
                options: [
                    "Away from the curb",
                    "Toward the curb",
                    "Straight ahead",
                    "It doesn't matter"
                ],
                correctAnswer: 1,
                explanation: "When parking downhill with a curb, turn your wheels toward the curb. This helps prevent the car from rolling into traffic."
            }
        ];

        // Quiz state variables
        let currentQuestionIndex = 0;
        let userAnswers = new Array(quizQuestions.length).fill(null);
        let score = 0;
        let quizCompleted = false;

        // DOM elements
        const questionTextElement = document.getElementById('question-text');
        const optionsContainerElement = document.getElementById('options-container');
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const currentScoreElement = document.getElementById('current-score');
        const progressBarElement = document.getElementById('progress-bar');
        const prevButton = document.getElementById('prev-btn');
        const nextButton = document.getElementById('next-btn');
        const questionSection = document.getElementById('question-section');
        const resultSection = document.getElementById('result-section');
        const finalScoreElement = document.getElementById('final-score');
        const scoreTextElement = document.getElementById('score-text');
        const feedbackMessageElement = document.getElementById('feedback-message');
        const answersReviewElement = document.getElementById('answers-review');
        const restartButton = document.getElementById('restart-btn');

        // Initialize quiz
        function initQuiz() {
            totalQuestionsElement.textContent = quizQuestions.length;
            updateProgressBar();
            loadQuestion(currentQuestionIndex);
            updateNavigationButtons();
        }

        // Load a specific question
        function loadQuestion(questionIndex) {
            const question = quizQuestions[questionIndex];
            questionTextElement.textContent = question.question;
            currentQuestionElement.textContent = questionIndex + 1;
            
            // Clear previous options
            optionsContainerElement.innerHTML = '';
            
            // Create new options
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                // Check if this option was previously selected by the user
                if (userAnswers[questionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <span class="option-label">${String.fromCharCode(65 + index)}</span>
                    <span class="option-text">${option}</span>
                `;
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainerElement.appendChild(optionElement);
            });
            
            // Update score display
            currentScoreElement.textContent = score;
        }

        // Handle option selection
        function selectOption(optionIndex) {
            // If quiz is completed, don't allow selection
            if (quizCompleted) return;
            
            // Get all option elements
            const optionElements = document.querySelectorAll('.option');
            
            // Remove selected class from all options
            optionElements.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            optionElements[optionIndex].classList.add('selected');
            
            // Store user's answer
            userAnswers[currentQuestionIndex] = optionIndex;
            
            // Enable next button
            nextButton.disabled = false;
        }

        // Navigate to next question
        function nextQuestion() {
            if (currentQuestionIndex < quizQuestions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
                updateNavigationButtons();
                updateProgressBar();
            } else {
                // If this is the last question, show results
                showResults();
            }
        }

        // Navigate to previous question
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
                updateNavigationButtons();
                updateProgressBar();
            }
        }

        // Update navigation buttons state
        function updateNavigationButtons() {
            prevButton.disabled = currentQuestionIndex === 0;
            
            // Enable next button if user has selected an answer for current question
            if (userAnswers[currentQuestionIndex] !== null) {
                nextButton.disabled = false;
            } else {
                nextButton.disabled = true;
            }
            
            // Change next button text on last question
            if (currentQuestionIndex === quizQuestions.length - 1) {
                nextButton.innerHTML = 'Show Results <i class="fas fa-chart-bar"></i>';
            } else {
                nextButton.innerHTML = 'Next <i class="fas fa-arrow-right"></i>';
            }
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            progressBarElement.style.width = `${progress}%`;
        }

        // Calculate score and show results
        function showResults() {
            // Calculate score
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === quizQuestions[index].correctAnswer) {
                    score++;
                }
            });
            
            // Update final score display
            finalScoreElement.textContent = `${score}/${quizQuestions.length}`;
            scoreTextElement.textContent = `You answered ${score} out of ${quizQuestions.length} questions correctly`;
            
            // Set feedback message based on score
            let feedbackMessage = '';
            let feedbackClass = '';
            
            if (score >= 9) {
                feedbackMessage = 'Excellent! You have exceptional knowledge of traffic rules.';
                feedbackClass = 'excellent';
            } else if (score >= 7) {
                feedbackMessage = 'Good job! You have a solid understanding of traffic rules.';
                feedbackClass = 'good';
            } else if (score >= 5) {
                feedbackMessage = 'Fair. You know the basics but could improve your knowledge.';
                feedbackClass = 'needs-improvement';
            } else {
                feedbackMessage = 'Needs improvement. Consider reviewing traffic rules for safety.';
                feedbackClass = 'needs-improvement';
            }
            
            feedbackMessageElement.textContent = feedbackMessage;
            feedbackMessageElement.className = `feedback-message ${feedbackClass}`;
            
            // Show answers review
            showAnswersReview();
            
            // Switch to results section
            questionSection.style.display = 'none';
            resultSection.style.display = 'block';
            
            // Mark quiz as completed
            quizCompleted = true;
        }

        // Show detailed review of answers
        function showAnswersReview() {
            answersReviewElement.innerHTML = '';
            
            quizQuestions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correctAnswer;
                
                const reviewItem = document.createElement('div');
                reviewItem.className = `review-item ${isCorrect ? 'user-correct' : 'user-incorrect'}`;
                
                let answerStatus = '';
                let correctAnswerText = '';
                
                if (userAnswer === null) {
                    answerStatus = 'You did not answer this question.';
                } else {
                    answerStatus = isCorrect ? 
                        `You answered correctly: ${question.options[userAnswer]}` : 
                        `Your answer: ${question.options[userAnswer]}`;
                    
                    if (!isCorrect) {
                        correctAnswerText = `Correct answer: ${question.options[question.correctAnswer]}`;
                    }
                }
                
                reviewItem.innerHTML = `
                    <div class="review-question">Q${index + 1}: ${question.question}</div>
                    <div class="review-answer ${isCorrect ? 'correct-answer' : ''}">${answerStatus}</div>
                    ${correctAnswerText ? `<div class="review-answer correct-answer">${correctAnswerText}</div>` : ''}
                    <div class="explanation">${question.explanation}</div>
                `;
                
                answersReviewElement.appendChild(reviewItem);
            });
        }

        // Restart the quiz
        function restartQuiz() {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = new Array(quizQuestions.length).fill(null);
            score = 0;
            quizCompleted = false;
            
            // Reset UI
            questionSection.style.display = 'block';
            resultSection.style.display = 'none';
            
            // Reinitialize quiz
            initQuiz();
        }

        // Event listeners
        nextButton.addEventListener('click', nextQuestion);
        prevButton.addEventListener('click', previousQuestion);
        restartButton.addEventListener('click', restartQuiz);

        // Initialize the quiz when page loads
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>