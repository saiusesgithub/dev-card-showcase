<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHROMAWAVE | Sound-to-Color Translator</title>
    <link rel="stylesheet" href="css/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Outfit:wght@200;400;700&display=swap"
        rel="stylesheet">
</head>

<body>

    <!-- Immersive Background Canvas -->
    <canvas id="chromawave-canvas"></canvas>

    <!-- Main UI Container -->
    <div class="ui-container">
        <!-- Header / Logo -->
        <header class="app-header">
            <h1 class="logo">CHROMAWAVE</h1>
            <p class="subtitle">Sound-to-Color Translator</p>
        </header>

        <!-- Glassmorphism Control Panel -->
        <aside class="control-panel glass">
            <div class="panel-section">
                <h3>Input Source</h3>
                <div class="toggle-group">
                    <button id="btn-mic" class="active" data-mode="mic">Microphone</button>
                    <button id="btn-file" data-mode="file">File Upload</button>
                </div>
                <input type="file" id="file-upload" accept="audio/*" hidden>
            </div>

            <div class="panel-section">
                <h3>Sensitivity</h3>
                <div class="slider-wrapper">
                    <label for="sensitivity">Gain</label>
                    <input type="range" id="sensitivity" min="0" max="200" value="100">
                </div>
                <div class="slider-wrapper">
                    <label for="smoothing">Smooth</label>
                    <input type="range" id="smoothing" min="0" max="95" value="80">
                </div>
            </div>

            <div class="panel-section">
                <h3>Visuals</h3>
                <div class="slider-wrapper">
                    <label for="intensity">Intensity</label>
                    <input type="range" id="intensity" min="0" max="200" value="100">
                </div>
                <div class="slider-wrapper">
                    <label for="color-mode">Theme</label>
                    <select id="color-mode" class="glass-select">
                        <option value="neon">Neon Cyberpunk</option>
                        <option value="pastel">Dreamy Pastel</option>
                        <option value="natural">Organic Nature</option>
                        <option value="monochrome">Monochrome</option>
                    </select>
                </div>
                <!-- FX Toggles -->
                <div class="slider-wrapper" style="margin-top: 0.8rem; justify-content: flex-start; gap: 1rem;">
                    <label class="switch-label">
                        <input type="checkbox" id="kaleidoscope-toggle">
                        <span class="label-text">Kaleidoscope FX</span>
                    </label>
                </div>
            </div>

            <div class="panel-section">
                <h3>Instruments</h3>
                <div class="toggle-group" style="margin-bottom: 0.5rem;">
                    <button id="btn-drum-kick" title="Kick Drum">ü•Å</button>
                    <button id="btn-drum-snare" title="Snare">üëè</button>
                    <button id="btn-drum-hat" title="Hi-Hat">üõéÔ∏è</button>
                </div>
                <div class="toggle-group" style="margin-bottom: 0.5rem;">
                    <button id="btn-piano-c" title="C4">C</button>
                    <button id="btn-piano-e" title="E4">E</button>
                    <button id="btn-piano-g" title="G4">G</button>
                </div>

                <div class="slider-wrapper" style="margin-top: 1rem; margin-bottom: 0.5rem;">
                    <label for="jam-style" style="font-size: 0.8rem;">Jam Style</label>
                    <select id="jam-style" class="glass-select" style="font-size: 0.8rem;">
                        <option value="techno">Techno Driver</option>
                        <option value="chill">Chill Waves</option>
                        <option value="chaos">Chaos Theory</option>
                    </select>
                </div>

                <button id="btn-autoplay" class="primary-btn"
                    style="width: 100%; font-size: 0.9rem; padding: 0.5rem;">START AUTO-JAM</button>
            </div>

            <div class="panel-section action-buttons">
                <button id="btn-freeze" class="icon-btn" title="Freeze Visuals">‚ùÑÔ∏è</button>
                <button id="btn-export" class="icon-btn" title="Export PNG">üì∑</button>
            </div>

            <div class="panel-section status-readout">
                <div id="debug-fps">FPS: 0</div>
                <div id="debug-freq">Freq: 0Hz</div>
            </div>
        </aside>

        <!-- Overlay Message (Click to Start) -->
        <div id="start-overlay" class="overlay glass">
            <div class="overlay-content">
                <h2>Initialize Experience</h2>
                <p>Click to enable Audio Context</p>
                <button id="btn-start" class="primary-btn">ENTER CHROMAWAVE</button>
            </div>
        </div>
    </div>

    <!-- Modular JS Imports -->
    <script type="module" src="js/main.js"></script>
</body>

</html>